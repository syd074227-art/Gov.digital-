<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>بوابة KR الرقمية | المنصة الذكية</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@300;500;700;900&display=swap');

        :root {
            --bg-dark: #0a0a0f;
            --card-dark: #131320;
            --accent: #00f7ff;
            --accent-gradient: linear-gradient(135deg, #00f7ff, #0080ff, #9d4edd);
            --text-main: #ffffff;
            --text-dim: #b0b0d0;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glow: 0 0 20px rgba(0, 247, 255, 0.7);
            --dark-purple: #1a1a2e;
            --success: #00ff88;
            --warning: #ffaa00;
            --danger: #ff4757;
        }

        /* مظهر فاتح */
        :root[data-theme="light"] {
            --bg-dark: #f5f7ff;
            --card-dark: #ffffff;
            --accent: #0066ff;
            --accent-gradient: linear-gradient(135deg, #0066ff, #00aaff, #7a5fff);
            --text-main: #1a1a2e;
            --text-dim: #4a4a6e;
            --glass: rgba(26, 26, 46, 0.05);
            --glass-border: rgba(26, 26, 46, 0.1);
            --glow: 0 0 15px rgba(0, 102, 255, 0.3);
            --dark-purple: #e6e9ff;
        }

        * { 
            margin: 0; padding: 0; box-sizing: border-box; 
            font-family: 'Noto Kufi Arabic', sans-serif; 
            -webkit-tap-highlight-color: transparent; 
        }

        body { 
            background-color: var(--bg-dark); 
            color: var(--text-main); 
            overflow-x: hidden; 
            padding-bottom: 100px;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 247, 255, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(157, 78, 221, 0.05) 0%, transparent 20%);
            min-height: 100vh;
            transition: all 0.5s ease;
        }

        /* إعدادات اللغة الإنجليزية */
        body[dir="ltr"] {
            font-family: 'Segoe UI', 'Noto Kufi Arabic', sans-serif;
        }

        body[dir="ltr"] .top-nav,
        body[dir="ltr"] .sec-header,
        body[dir="ltr"] .search-bar,
        body[dir="ltr"] .quick-access,
        body[dir="ltr"] .featured-cards,
        body[dir="ltr"] .digital-platforms,
        body[dir="ltr"] .categories-grid {
            padding-right: 20px;
            padding-left: 20px;
        }

        body[dir="ltr"] .sec-header h3::before {
            right: auto;
            left: 0;
        }

        body[dir="ltr"] .profile-area {
            flex-direction: row-reverse;
        }

        body[dir="ltr"] .id-top {
            flex-direction: row-reverse;
        }

        /* Header */
        .top-nav { 
            padding: 25px 20px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            background: linear-gradient(to bottom, rgba(10, 10, 15, 0.9), transparent);
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 10;
        }
        
        .top-nav::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 20px;
            right: 20px;
            height: 1px;
            background: linear-gradient(to right, transparent, var(--accent), transparent);
        }
        
        .profile-area { 
            display: flex; 
            align-items: center; 
            gap: 15px; 
            position: relative;
        }
        
        .profile-pic { 
            width: 55px; 
            height: 55px; 
            border-radius: 50%; 
            border: 2px solid transparent;
            background: var(--accent-gradient) border-box;
            padding: 3px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--glow);
        }
        
        .profile-pic img { 
            width: 100%; 
            height: 100%; 
            border-radius: 50%; 
            object-fit: cover;
            border: 2px solid var(--bg-dark);
        }
        
        .welcome-text h4 { 
            font-size: 14px; 
            color: var(--text-dim); 
            font-weight: 300; 
        }
        
        .welcome-text p { 
            font-size: 18px; 
            font-weight: 700; 
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .top-icons { 
            display: flex; 
            gap: 20px; 
            font-size: 20px; 
        }
        
        .top-icons i {
            padding: 10px;
            border-radius: 12px;
            background: var(--glass);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .top-icons i:hover {
            background: var(--accent-gradient);
            color: var(--bg-dark);
            transform: translateY(-3px);
        }
        
        /* شريط البحث */
        .search-container { 
            padding: 0 20px; 
            margin-bottom: 30px; 
            position: relative;
        }
        
        .search-bar { 
            background: rgba(19, 19, 32, 0.8); 
            border: 1px solid var(--glass-border); 
            border-radius: 20px; 
            padding: 18px 25px; 
            display: flex; 
            align-items: center; 
            gap: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 
                0 10px 30px rgba(0,0,0,0.5),
                inset 0 1px 0 rgba(255,255,255,0.1);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        
        [data-theme="light"] .search-bar {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 
                0 10px 30px rgba(0,0,0,0.1),
                inset 0 1px 0 rgba(255,255,255,0.8);
        }
        
        .search-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(to right, transparent, var(--accent), transparent);
        }
        
        .search-bar:focus-within { 
            border-color: var(--accent); 
            box-shadow: 
                0 0 25px rgba(0, 247, 255, 0.3),
                inset 0 1px 0 rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }
        
        .search-bar input { 
            background: none; 
            border: none; 
            color: var(--text-main); 
            width: 100%; 
            outline: none; 
            font-size: 15px; 
            font-weight: 300;
        }
        
        .search-bar i { 
            color: var(--text-dim);
            transition: color 0.3s;
        }
        
        .search-bar:focus-within i {
            color: var(--accent);
        }
        
        /* عناوين الأقسام */
        .sec-header { 
            padding: 0 20px 15px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-top: 25px;
        }
        
        .sec-header h3 { 
            font-size: 18px; 
            font-weight: 700; 
            position: relative;
            padding-right: 15px;
        }
        
        .sec-header h3::before {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 5px;
            height: 20px;
            background: var(--accent-gradient);
            border-radius: 3px;
        }
        
        .sec-header span { 
            color: var(--accent); 
            font-size: 13px; 
            font-weight: 500; 
            cursor: pointer;
            padding: 5px 12px;
            border-radius: 20px;
            background: rgba(0, 247, 255, 0.1);
            transition: all 0.3s;
        }
        
        .sec-header span:hover {
            background: rgba(0, 247, 255, 0.2);
            transform: translateX(-5px);
        }
        
        /* الوصول السريع */
        .quick-access { 
            display: flex; 
            gap: 15px; 
            overflow-x: auto; 
            padding: 0 20px 25px; 
            scrollbar-width: none; 
        }
        
        .quick-access::-webkit-scrollbar { 
            display: none; 
        }
        
        .q-item { 
            min-width: 110px; 
            background: var(--card-dark); 
            padding: 20px 15px; 
            border-radius: 22px; 
            text-align: center; 
            border: 1px solid var(--glass-border);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
        
        .q-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent-gradient);
            transform: scaleX(0);
            transition: transform 0.4s ease;
            transform-origin: center;
        }
        
        .q-item:hover::before {
            transform: scaleX(1);
        }
        
        .q-item:hover {
            transform: translateY(-8px);
            box-shadow: 
                0 15px 30px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(0, 247, 255, 0.3);
            border-color: rgba(0, 247, 255, 0.3);
        }
        
        .q-item i { 
            font-size: 24px; 
            margin-bottom: 12px; 
            display: block; 
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .q-item span { 
            font-size: 13px; 
            color: var(--text-dim); 
            font-weight: 500;
        }
        
        /* بطاقات مميزة */
        .featured-cards { 
            padding: 0 20px 25px; 
            display: flex;
            gap: 20px;
            overflow-x: auto;
            scrollbar-width: none;
        }
        
        .featured-cards::-webkit-scrollbar {
            display: none;
        }
        
        .digital-id { 
            background: linear-gradient(145deg, var(--card-dark) 0%, var(--dark-purple) 100%); 
            border-radius: 28px; 
            padding: 25px; 
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
            height: 200px;
            min-width: 300px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        [data-theme="light"] .digital-id {
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
        }
        
        .digital-id::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(0, 247, 255, 0.03) 100%);
            z-index: 0;
        }
        
        .digital-id::after { 
            content: ''; 
            position: absolute; 
            top: -100px; 
            right: -100px; 
            width: 300px; 
            height: 300px; 
            background: var(--accent); 
            filter: blur(120px); 
            opacity: 0.15; 
            z-index: 0;
        }
        
        .id-top { 
            display: flex; 
            justify-content: space-between; 
            align-items: flex-start; 
            position: relative;
            z-index: 1;
        }
        
        .id-top img { 
            width: 50px; 
            filter: drop-shadow(0 0 5px rgba(0, 247, 255, 0.5));
        }
        
        .id-top i { 
            color: var(--text-dim); 
            font-size: 20px; 
            cursor: pointer;
            padding: 5px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .id-top i:hover {
            color: var(--accent);
            background: rgba(255, 255, 255, 0.05);
        }
        
        .id-info { 
            margin-top: 35px; 
            position: relative;
            z-index: 1;
        }
        
        .id-info h2 { 
            font-size: 24px; 
            letter-spacing: 2px; 
            margin-bottom: 8px; 
            font-weight: 700;
            font-family: 'Courier New', monospace;
            background: linear-gradient(to right, var(--text-main), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .id-info p { 
            font-size: 13px; 
            color: var(--text-dim); 
        }
        
        .id-status {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 15px;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00ff88;
            box-shadow: 0 0 10px #00ff88;
            animation: pulse 2s infinite;
        }
        
        /* قسم المنصات الرقمية */
        .digital-platforms {
            padding: 0 20px 25px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 18px;
        }
        
        .platform-card {
            background: var(--card-dark);
            border-radius: 22px;
            padding: 20px;
            border: 1px solid var(--glass-border);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .platform-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at top right, rgba(0, 247, 255, 0.1), transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .platform-card:hover::before {
            opacity: 1;
        }
        
        .platform-card:hover {
            transform: translateY(-8px);
            border-color: rgba(0, 247, 255, 0.4);
            box-shadow: 
                0 15px 30px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(0, 247, 255, 0.2);
        }
        
        .platform-icon {
            width: 60px;
            height: 60px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            margin-bottom: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        [data-theme="light"] .platform-icon {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .platform-icon::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
            z-index: 1;
        }
        
        .platform-card h4 {
            font-size: 15px;
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        .platform-card p {
            font-size: 11px;
            color: var(--text-dim);
            line-height: 1.4;
        }
        
        /* شبكة التصنيفات */
        .categories-grid { 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            gap: 18px; 
            padding: 0 20px; 
        }
        
        .cat-item { 
            background: var(--card-dark); 
            padding: 22px 10px; 
            border-radius: 24px; 
            text-align: center; 
            border: 1px solid var(--glass-border);
            animation: fadeIn 0.5s ease forwards;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .cat-item:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 15px 25px rgba(0, 0, 0, 0.4),
                0 0 15px rgba(0, 247, 255, 0.2);
        }
        
        .cat-icon { 
            width: 55px; 
            height: 55px; 
            border-radius: 16px; 
            margin: 0 auto 15px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 24px; 
            position: relative;
            overflow: hidden;
        }
        
        .cat-icon::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.2), transparent);
            z-index: 1;
        }
        
        .cat-item span { 
            font-size: 12px; 
            font-weight: 600; 
            display: block; 
            height: 30px; 
        }
        
        /* الشريط السفلي */
        .bottom-nav { 
            position: fixed; 
            bottom: 25px; 
            left: 20px; 
            right: 20px; 
            background: rgba(19, 19, 32, 0.9); 
            backdrop-filter: blur(20px); 
            border-radius: 28px; 
            padding: 15px 10px; 
            display: flex; 
            justify-content: space-around; 
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 20px 40px rgba(0,0,0,0.6),
                0 0 20px rgba(0, 247, 255, 0.1);
            z-index: 1000;
        }
        
        [data-theme="light"] .bottom-nav {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 
                0 20px 40px rgba(0,0,0,0.1),
                0 0 20px rgba(0, 102, 255, 0.1);
        }
        
        .nav-item { 
            text-align: center; 
            color: var(--text-dim); 
            flex: 1; 
            transition: all 0.4s ease; 
            position: relative; 
            padding: 5px 0;
            border-radius: 15px;
            cursor: pointer;
        }
        
        .nav-item i { 
            font-size: 22px; 
            display: block; 
            margin-bottom: 6px; 
            transition: all 0.4s;
        }
        
        .nav-item span { 
            font-size: 11px; 
            font-weight: 500; 
        }
        
        .nav-item.active { 
            color: var(--accent); 
            transform: translateY(-8px);
        }
        
        .nav-item.active::after { 
            content: ''; 
            position: absolute; 
            top: -12px; 
            left: 50%; 
            transform: translateX(-50%); 
            width: 24px; 
            height: 4px; 
            background: var(--accent-gradient); 
            border-radius: 0 0 10px 10px; 
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.5); 
        }
        
        .nav-item.active i {
            text-shadow: 0 0 10px rgba(0, 247, 255, 0.7);
        }
        
        .nav-item:hover:not(.active) {
            color: var(--text-main);
            background: rgba(255, 255, 255, 0.05);
        }
        
        /* صفحة الإعدادات */
        .settings-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-dark);
            z-index: 2000;
            overflow-y: auto;
            padding: 20px;
            transition: all 0.4s ease;
        }
        
        .settings-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--glass-border);
        }
        
        .settings-header i {
            font-size: 24px;
            color: var(--accent);
            cursor: pointer;
        }
        
        .settings-header h2 {
            font-size: 22px;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .settings-section {
            margin-bottom: 30px;
        }
        
        .settings-section h3 {
            font-size: 16px;
            margin-bottom: 15px;
            color: var(--text-main);
            font-weight: 600;
        }
        
        .settings-option {
            background: var(--card-dark);
            border-radius: 18px;
            padding: 18px;
            margin-bottom: 15px;
            border: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .settings-option:hover {
            transform: translateY(-3px);
            border-color: var(--accent);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .option-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .option-info i {
            font-size: 20px;
            color: var(--accent);
        }
        
        .option-text h4 {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .option-text p {
            font-size: 12px;
            color: var(--text-dim);
        }
        
        /* ترويسة تبديل */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.1);
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background: var(--accent-gradient);
        }
        
        input:checked + .slider:before {
            transform: translateX(30px);
        }
        
        /* لغة التبديل */
        .language-switch {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 5px;
            width: 120px;
        }
        
        .lang-option {
            flex: 1;
            text-align: center;
            padding: 8px;
            border-radius: 12px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .lang-option.active {
            background: var(--accent-gradient);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.3);
        }
        
        /* التقويم الذكي */
        .calendar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            z-index: 3000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .calendar-overlay.active {
            display: flex;
            opacity: 1;
        }
        
        .smart-calendar {
            background: var(--card-dark);
            border-radius: 30px;
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 30px 60px rgba(0, 0, 0, 0.8),
                0 0 50px rgba(0, 247, 255, 0.3);
            transform: translateY(20px);
            transition: transform 0.4s ease;
        }
        
        .calendar-overlay.active .smart-calendar {
            transform: translateY(0);
        }
        
        .calendar-header {
            padding: 25px;
            background: linear-gradient(to right, rgba(19, 19, 32, 0.9), rgba(26, 26, 46, 0.9));
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }
        
        .calendar-header h2 {
            font-size: 24px;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .calendar-nav {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .calendar-nav button {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: var(--text-main);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 18px;
        }
        
        .calendar-nav button:hover {
            background: var(--accent-gradient);
            color: var(--bg-dark);
            transform: translateY(-3px);
        }
        
        .calendar-close {
            position: absolute;
            top: 20px;
            left: 25px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--glass-border);
            color: var(--text-dim);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 20px;
        }
        
        .calendar-close:hover {
            background: var(--danger);
            color: white;
            transform: rotate(90deg);
        }
        
        .calendar-body {
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .calendar-dates {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            text-align: center;
            font-weight: 600;
            font-size: 14px;
            color: var(--accent);
            padding-bottom: 10px;
            border-bottom: 1px solid var(--glass-border);
        }
        
        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }
        
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid transparent;
        }
        
        .calendar-day:hover:not(.other-month):not(.today):not(.event-day) {
            background: var(--glass);
            border-color: var(--glass-border);
            transform: translateY(-3px);
        }
        
        .calendar-day.other-month {
            color: var(--text-dim);
            opacity: 0.5;
        }
        
        .calendar-day.today {
            background: var(--accent-gradient);
            color: white;
            font-weight: 700;
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.5);
            border: none;
        }
        
        .calendar-day.event-day {
            border: 2px solid rgba(157, 78, 221, 0.5);
        }
        
        .calendar-day.event-day::after {
            content: '';
            position: absolute;
            bottom: 6px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #9d4edd;
        }
        
        .calendar-day.selected {
            background: var(--accent-gradient);
            color: white;
            font-weight: 700;
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.5);
            border: none;
            transform: scale(1.1);
        }
        
        .calendar-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 10px;
        }
        
        .calendar-box {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--glass-border);
            border-radius: 18px;
            padding: 20px;
        }
        
        .calendar-box h3 {
            font-size: 16px;
            margin-bottom: 15px;
            color: var(--accent);
            font-weight: 600;
        }
        
        .date-display {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .current-date {
            font-size: 32px;
            font-weight: 700;
            color: var(--accent);
        }
        
        .date-details {
            display: flex;
            flex-direction: column;
        }
        
        .gregorian-date {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .hijri-date {
            font-size: 14px;
            color: var(--text-dim);
        }
        
        .events-list {
            max-height: 200px;
            overflow-y: auto;
        }
        
        .event-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border-radius: 12px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--glass-border);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .event-item:hover {
            background: rgba(255, 255, 255, 0.07);
            transform: translateX(5px);
        }
        
        .event-icon {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }
        
        .event-details h4 {
            font-size: 14px;
            margin-bottom: 3px;
            font-weight: 600;
        }
        
        .event-details p {
            font-size: 12px;
            color: var(--text-dim);
        }
        
        .event-time {
            margin-left: auto;
            font-size: 12px;
            color: var(--accent);
            font-weight: 600;
        }
        
        .calendar-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .calendar-btn {
            flex: 1;
            padding: 15px;
            border-radius: 15px;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .calendar-btn.primary {
            background: var(--accent-gradient);
            color: white;
        }
        
        .calendar-btn.secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-main);
            border: 1px solid var(--glass-border);
        }
        
        .calendar-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        .calendar-btn:active {
            transform: translateY(0);
        }
        
        /* أنيميشن */
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        
        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        @keyframes ripple {
            to {
                width: 200px;
                height: 200px;
                opacity: 0;
            }
        }
        
        /* تلميحات التمرير */
        .scroll-hint {
            position: absolute;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--accent);
            font-size: 12px;
            opacity: 0.7;
            animation: float 3s infinite;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }
        
        .scroll-hint i {
            font-size: 18px;
        }
        
        /* تحسينات للعرض على الجوال */
        @media (max-width: 768px) {
            .smart-calendar {
                max-height: 80vh;
                overflow-y: auto;
            }
            
            .calendar-info {
                grid-template-columns: 1fr;
            }
            
            .calendar-days {
                gap: 5px;
            }
            
            .calendar-day {
                font-size: 14px;
            }
            
            .calendar-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body dir="rtl">

    <!-- الصفحة الرئيسية -->
    <div class="main-page">
        <div class="top-nav">
            <div class="profile-area">
                <div class="profile-pic">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" alt="User">
                </div>
                <div class="welcome-text">
                    <h4>مرحباً بك في</h4>
                    <p>بوابة KR الذكية</p>
                </div>
            </div>
            <div class="top-icons">
                <i class="far fa-bell"></i>
                <i class="far fa-clock"></i>
                <i class="fas fa-cog" id="settingsBtn"></i>
            </div>
        </div>

        <div class="search-container">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="ابحث في الخدمات، المنصات، أو المستندات الرقمية...">
                <i class="fas fa-microphone"></i>
                <i class="fas fa-sliders-h"></i>
            </div>
        </div>

        <div class="sec-header">
            <h3>الوصول السريع</h3>
            <span>تخصيص</span>
        </div>
        <div class="quick-access">
            <div class="q-item" id="calendarBtn">
                <i class="fas fa-calendar-alt"></i>
                <span>التقويم الذكي</span>
            </div>
            <div class="q-item"><i class="fas fa-university"></i><span>الجهات الحكومية</span></div>
            <div class="q-item"><i class="fas fa-qrcode"></i><span>التصاريح الرقمية</span></div>
            <div class="q-item"><i class="fas fa-wallet"></i><span>المحفظة الإلكترونية</span></div>
            <div class="q-item"><i class="fas fa-file-contract"></i><span>المستندات</span></div>
            <div class="q-item"><i class="fas fa-chart-line"></i><span>الإحصائيات</span></div>
        </div>

        <div class="sec-header">
            <h3>البطاقات الرقمية</h3>
            <span>إدارة البطاقات</span>
        </div>
        <div class="featured-cards">
            <div class="digital-id">
                <div class="id-top">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/4/4b/Coat_of_arms_of_Saudi_Arabia.svg" alt="Logo">
                    <i class="fas fa-ellipsis-h"></i>
                </div>
                <div class="id-info">
                    <p>بطاقة الهوية الوطنية الذكية</p>
                    <h2>١٠٩٢٨٣٧٤٦٥</h2>
                    <div class="id-status">
                        <div class="status-dot"></div>
                        <p style="margin-top: 0; font-size: 12px; color: #00ff88;">نشط • تم التحقق الرقمي</p>
                    </div>
                </div>
            </div>
            
            <div class="digital-id" style="background: linear-gradient(145deg, var(--card-dark) 0%, var(--dark-purple) 100%);">
                <div class="id-top">
                    <i class="fas fa-car" style="color: var(--accent); font-size: 30px;"></i>
                    <i class="fas fa-ellipsis-h"></i>
                </div>
                <div class="id-info">
                    <p>رخصة القيادة الرقمية</p>
                    <h2>٧٤٦٣٨٢٠١</h2>
                    <div class="id-status">
                        <div class="status-dot"></div>
                        <p style="margin-top: 0; font-size: 12px; color: #00ff88;">سارية حتى ١٤٤٦/٠٨/١٠</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="sec-header">
            <h3>المنصات الرقمية</h3>
            <span>اكتشاف المزيد</span>
        </div>
        <div class="digital-platforms">
            <div class="platform-card">
                <div class="platform-icon" style="color: var(--accent);">
                    <i class="fas fa-passport"></i>
                </div>
                <h4>منصة أبشر</h4>
                <p>الخدمات الحكومية الموحدة</p>
            </div>
            
            <div class="platform-card">
                <div class="platform-icon" style="color: #9d4edd;">
                    <i class="fas fa-balance-scale"></i>
                </div>
                <h4>منصة ناجز</h4>
                <p>الخدمات القضائية الإلكترونية</p>
            </div>
            
            <div class="platform-card">
                <div class="platform-icon" style="color: #ff0080;">
                    <i class="fas fa-heartbeat"></i>
                </div>
                <h4>منصة صحتي</h4>
                <p>الخدمات الصحية الذكية</p>
            </div>
            
            <div class="platform-card">
                <div class="platform-icon" style="color: #00ff88;">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h4>منصة مدرستي</h4>
                <p>التعليم الإلكتروني التفاعلي</p>
            </div>
        </div>

        <div class="sec-header">
            <h3>التصنيفات الرئيسية</h3>
            <span>جميع التصنيفات</span>
        </div>
        <div class="categories-grid">
            <div class="cat-item">
                <div class="cat-icon" style="background: rgba(168, 85, 247, 0.15); color: #a855f7;">
                    <i class="fas fa-users"></i>
                </div>
                <span>الشخصية والأسرة</span>
            </div>
            
            <div class="cat-item" style="animation-delay: 0.1s;">
                <div class="cat-icon" style="background: rgba(239, 68, 68, 0.15); color: #ef4444;">
                    <i class="fas fa-heartbeat"></i>
                </div>
                <span>الصحة والطب</span>
            </div>
            
            <div class="cat-item" style="animation-delay: 0.2s;">
                <div class="cat-icon" style="background: rgba(245, 158, 11, 0.15); color: #f59e0b;">
                    <i class="fas fa-mosque"></i>
                </div>
                <span>الشؤون الدينية</span>
            </div>
            
            <div class="cat-item" style="animation-delay: 0.3s;">
                <div class="cat-icon" style="background: rgba(59, 130, 246, 0.15); color: #3b82f6;">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <span>التعليم والتدريب</span>
            </div>
            
            <div class="cat-item" style="animation-delay: 0.4s;">
                <div class="cat-icon" style="background: rgba(16, 185, 129, 0.15); color: #10b981;">
                    <i class="fas fa-hand-holding-usd"></i>
                </div>
                <span>التجارة والمالية</span>
            </div>
            
            <div class="cat-item" style="animation-delay: 0.5s;">
                <div class="cat-icon" style="background: rgba(34, 197, 94, 0.15); color: #22c55e;">
                    <i class="fas fa-car"></i>
                </div>
                <span>المركبات والمواصلات</span>
            </div>
        </div>

        <div class="scroll-hint">
            <span>اسحب لأعلى للمزيد</span>
            <i class="fas fa-chevron-up"></i>
        </div>

        <div class="bottom-nav">
            <div class="nav-item active">
                <i class="fas fa-home"></i>
                <span>الرئيسية</span>
            </div>
            <div class="nav-item">
                <i class="fas fa-th-large"></i>
                <span>الخدمات</span>
            </div>
            <div class="nav-item">
                <i class="fas fa-compass"></i>
                <span>المنصات</span>
            </div>
            <div class="nav-item">
                <i class="fas fa-comment-dots"></i>
                <span>المحادثات</span>
            </div>
            <div class="nav-item">
                <i class="fas fa-user-circle"></i>
                <span>الملف الشخصي</span>
            </div>
        </div>
    </div>

    <!-- صفحة الإعدادات -->
    <div class="settings-page" id="settingsPage">
        <div class="settings-header">
            <i class="fas fa-arrow-right" id="closeSettings"></i>
            <h2>الإعدادات</h2>
        </div>

        <div class="settings-section">
            <h3>المظهر</h3>
            <div class="settings-option" id="themeOption">
                <div class="option-info">
                    <i class="fas fa-palette"></i>
                    <div class="option-text">
                        <h4>المظهر الداكن</h4>
                        <p>تبديل بين المظهر الداكن والفاتح</p>
                    </div>
                </div>
                <label class="switch">
                    <input type="checkbox" id="themeToggle">
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <div class="settings-section">
            <h3>اللغة</h3>
            <div class="settings-option">
                <div class="option-info">
                    <i class="fas fa-language"></i>
                    <div class="option-text">
                        <h4>لغة التطبيق</h4>
                        <p>اختر اللغة التي تفضلها للواجهة</p>
                    </div>
                </div>
                <div class="language-switch" id="languageSwitch">
                    <div class="lang-option active" data-lang="ar">العربية</div>
                    <div class="lang-option" data-lang="en">English</div>
                </div>
            </div>
        </div>

        <div class="settings-section">
            <h3>الإشعارات</h3>
            <div class="settings-option">
                <div class="option-info">
                    <i class="fas fa-bell"></i>
                    <div class="option-text">
                        <h4>الإشعارات الفورية</h4>
                        <p>تلقي تنبيهات حول المستجدات المهمة</p>
                    </div>
                </div>
                <label class="switch">
                    <input type="checkbox" id="notificationsToggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <div class="settings-section">
            <h3>خصوصية البيانات</h3>
            <div class="settings-option">
                <div class="option-info">
                    <i class="fas fa-shield-alt"></i>
                    <div class="option-text">
                        <h4>التشفير المتقدم</h4>
                        <p>حماية بياناتك بتقنيات التشفير الحديثة</p>
                    </div>
                </div>
                <i class="fas fa-check-circle" style="color: #00ff88; font-size: 20px;"></i>
            </div>
        </div>

        <div class="settings-section">
            <h3>حول التطبيق</h3>
            <div class="settings-option">
                <div class="option-info">
                    <i class="fas fa-info-circle"></i>
                    <div class="option-text">
                        <h4>إصدار التطبيق</h4>
                        <p>KR Digital Portal v2.5.1</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- التقويم الذكي -->
    <div class="calendar-overlay" id="calendarOverlay">
        <div class="smart-calendar">
            <div class="calendar-header">
                <div class="calendar-close" id="closeCalendar">
                    <i class="fas fa-times"></i>
                </div>
                <h2 id="calendarTitle">التقويم الذكي</h2>
                <div class="calendar-nav">
                    <button id="prevYear">
                        <i class="fas fa-angle-double-right"></i>
                    </button>
                    <button id="prevMonth">
                        <i class="fas fa-angle-right"></i>
                    </button>
                    <span id="currentMonthYear">شهر ١٤٤٥</span>
                    <button id="nextMonth">
                        <i class="fas fa-angle-left"></i>
                    </button>
                    <button id="nextYear">
                        <i class="fas fa-angle-double-left"></i>
                    </button>
                </div>
            </div>
            
            <div class="calendar-body">
                <div class="date-display">
                    <div class="current-date" id="selectedDay">١٥</div>
                    <div class="date-details">
                        <div class="gregorian-date" id="gregorianDate">الإثنين، ٥ فبراير ٢٠٢٤</div>
                        <div class="hijri-date" id="hijriDate">٢٥ رجب ١٤٤٥ هـ</div>
                    </div>
                </div>
                
                <div class="calendar-dates">
                    <div class="calendar-weekdays">
                        <div>الأحد</div>
                        <div>الاثنين</div>
                        <div>الثلاثاء</div>
                        <div>الأربعاء</div>
                        <div>الخميس</div>
                        <div>الجمعة</div>
                        <div>السبت</div>
                    </div>
                    <div class="calendar-days" id="calendarDays">
                        <!-- سيتم ملء الأيام بالجافاسكريبت -->
                    </div>
                </div>
                
                <div class="calendar-info">
                    <div class="calendar-box">
                        <h3>الأحداث اليوم</h3>
                        <div class="events-list" id="eventsList">
                            <!-- سيتم ملء الأحداث بالجافاسكريبت -->
                        </div>
                    </div>
                    
                    <div class="calendar-box">
                        <h3>المناسبات القادمة</h3>
                        <div class="events-list" id="upcomingEvents">
                            <!-- سيتم ملء الأحداث القادمة بالجافاسكريبت -->
                        </div>
                    </div>
                </div>
                
                <div class="calendar-actions">
                    <button class="calendar-btn primary" id="addEventBtn">
                        <i class="fas fa-plus-circle"></i>
                        إضافة مناسبة
                    </button>
                    <button class="calendar-btn secondary" id="todayBtn">
                        <i class="fas fa-calendar-day"></i>
                        العودة لليوم
                    </button>
                    <button class="calendar-btn secondary" id="printCalendarBtn">
                        <i class="fas fa-print"></i>
                        طباعة التقويم
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // بيانات الترجمة
        const translations = {
            ar: {
                // عناوين الصفحة الرئيسية
                welcome: "مرحباً بك في",
                appName: "بوابة KR الذكية",
                searchPlaceholder: "ابحث في الخدمات، المنصات، أو المستندات الرقمية...",
                quickAccess: "الوصول السريع",
                customize: "تخصيص",
                digitalCards: "البطاقات الرقمية",
                manageCards: "إدارة البطاقات",
                digitalPlatforms: "المنصات الرقمية",
                exploreMore: "اكتشاف المزيد",
                mainCategories: "التصنيفات الرئيسية",
                allCategories: "جميع التصنيفات",
                
                // عناصر الوصول السريع
                smartCalendar: "التقويم الذكي",
                governmentEntities: "الجهات الحكومية",
                digitalPermits: "التصاريح الرقمية",
                eWallet: "المحفظة الإلكترونية",
                documents: "المستندات",
                statistics: "الإحصائيات",
                
                // بطاقات الهوية
                smartNationalId: "بطاقة الهوية الوطنية الذكية",
                digitalDrivingLicense: "رخصة القيادة الرقمية",
                activeVerified: "نشط • تم التحقق الرقمي",
                validUntil: "سارية حتى",
                
                // المنصات الرقمية
                absherPlatform: "منصة أبشر",
                unifiedGovServices: "الخدمات الحكومية الموحدة",
                najizPlatform: "منصة ناجز",
                judicialEServices: "الخدمات القضائية الإلكترونية",
                sehatyPlatform: "منصة صحتي",
                smartHealthServices: "الخدمات الصحية الذكية",
                mySchoolPlatform: "منصة مدرستي",
                interactiveElearning: "التعليم الإلكتروني التفاعلي",
                
                // التصنيفات
                personalFamily: "الشخصية والأسرة",
                healthMedical: "الصحة والطب",
                religiousAffairs: "الشؤون الدينية",
                educationTraining: "التعليم والتدريب",
                commerceFinance: "التجارة والمالية",
                vehiclesTransport: "المركبات والمواصلات",
                
                // شريط التنقل
                home: "الرئيسية",
                services: "الخدمات",
                platforms: "المنصات",
                conversations: "المحادثات",
                profile: "الملف الشخصي",
                
                // تلميحات
                scrollHint: "اسحب لأعلى للمزيد",
                
                // إعدادات
                settings: "الإعدادات",
                appearance: "المظهر",
                darkMode: "المظهر الداكن",
                toggleDarkLight: "تبديل بين المظهر الداكن والفاتح",
                language: "اللغة",
                appLanguage: "لغة التطبيق",
                chooseLanguage: "اختر اللغة التي تفضلها للواجهة",
                notifications: "الإشعارات",
                instantNotifications: "الإشعارات الفورية",
                receiveAlerts: "تلقي تنبيهات حول المستجدات المهمة",
                dataPrivacy: "خصوصية البيانات",
                advancedEncryption: "التشفير المتقدم",
                dataProtection: "حماية بياناتك بتقنيات التشفير الحديثة",
                aboutApp: "حول التطبيق",
                appVersion: "إصدار التطبيق",
                versionInfo: "KR Digital Portal v2.5.1",
                
                // التقويم
                calendarTitle: "التقويم الذكي",
                todayEvents: "الأحداث اليوم",
                upcomingEvents: "المناسبات القادمة",
                addEvent: "إضافة مناسبة",
                goToToday: "العودة لليوم",
                printCalendar: "طباعة التقويم",
                weekdays: ["الأحد", "الاثنين", "الثلاثاء", "الأربعاء", "الخميس", "الجمعة", "السبت"],
                months: [
                    "يناير", "فبراير", "مارس", "أبريل", "مايو", "يونيو",
                    "يوليو", "أغسطس", "سبتمبر", "أكتوبر", "نوفمبر", "ديسمبر"
                ],
                hijriMonths: [
                    "محرم", "صفر", "ربيع الأول", "ربيع الثاني", "جمادى الأولى", "جمادى الآخرة",
                    "رجب", "شعبان", "رمضان", "شوال", "ذو القعدة", "ذو الحجة"
                ],
                eventTypes: {
                    meeting: "اجتماع",
                    appointment: "موعد",
                    holiday: "عطلة",
                    reminder: "تذكير",
                    birthday: "مناسبة"
                }
            },
            en: {
                // عناوين الصفحة الرئيسية
                welcome: "Welcome to",
                appName: "KR Smart Portal",
                searchPlaceholder: "Search services, platforms, or digital documents...",
                quickAccess: "Quick Access",
                customize: "Customize",
                digitalCards: "Digital Cards",
                manageCards: "Manage Cards",
                digitalPlatforms: "Digital Platforms",
                exploreMore: "Explore More",
                mainCategories: "Main Categories",
                allCategories: "All Categories",
                
                // عناصر الوصول السريع
                smartCalendar: "Smart Calendar",
                governmentEntities: "Government Entities",
                digitalPermits: "Digital Permits",
                eWallet: "E-Wallet",
                documents: "Documents",
                statistics: "Statistics",
                
                // بطاقات الهوية
                smartNationalId: "Smart National ID",
                digitalDrivingLicense: "Digital Driving License",
                activeVerified: "Active • Digitally Verified",
                validUntil: "Valid until",
                
                // المنصات الرقمية
                absherPlatform: "Absher Platform",
                unifiedGovServices: "Unified Government Services",
                najizPlatform: "Najiz Platform",
                judicialEServices: "Judicial E-Services",
                sehatyPlatform: "Sehaty Platform",
                smartHealthServices: "Smart Health Services",
                mySchoolPlatform: "My School Platform",
                interactiveElearning: "Interactive E-Learning",
                
                // التصنيفات
                personalFamily: "Personal & Family",
                healthMedical: "Health & Medical",
                religiousAffairs: "Religious Affairs",
                educationTraining: "Education & Training",
                commerceFinance: "Commerce & Finance",
                vehiclesTransport: "Vehicles & Transport",
                
                // شريط التنقل
                home: "Home",
                services: "Services",
                platforms: "Platforms",
                conversations: "Conversations",
                profile: "Profile",
                
                // تلميحات
                scrollHint: "Scroll up for more",
                
                // إعدادات
                settings: "Settings",
                appearance: "Appearance",
                darkMode: "Dark Mode",
                toggleDarkLight: "Switch between dark and light mode",
                language: "Language",
                appLanguage: "App Language",
                chooseLanguage: "Choose your preferred interface language",
                notifications: "Notifications",
                instantNotifications: "Instant Notifications",
                receiveAlerts: "Receive alerts about important updates",
                dataPrivacy: "Data Privacy",
                advancedEncryption: "Advanced Encryption",
                dataProtection: "Protect your data with modern encryption",
                aboutApp: "About App",
                appVersion: "App Version",
                versionInfo: "KR Digital Portal v2.5.1",
                
                // التقويم
                calendarTitle: "Smart Calendar",
                todayEvents: "Today's Events",
                upcomingEvents: "Upcoming Events",
                addEvent: "Add Event",
                goToToday: "Go to Today",
                printCalendar: "Print Calendar",
                weekdays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                months: [
                    "January", "February", "March", "April", "May", "June",
                    "July", "August", "September", "October", "November", "December"
                ],
                hijriMonths: [
                    "Muharram", "Safar", "Rabi' al-Awwal", "Rabi' al-Thani", "Jumada al-Awwal", "Jumada al-Thani",
                    "Rajab", "Sha'ban", "Ramadan", "Shawwal", "Dhu al-Qi'dah", "Dhu al-Hijjah"
                ],
                eventTypes: {
                    meeting: "Meeting",
                    appointment: "Appointment",
                    holiday: "Holiday",
                    reminder: "Reminder",
                    birthday: "Birthday"
                }
            }
        };

        // حالة التطبيق
        let currentLang = 'ar';
        let currentTheme = 'dark';
        
        // حالة التقويم
        let currentDate = new Date();
        let selectedDate = new Date();
        let events = [];

        // تهيئة التطبيق عند التحميل
        document.addEventListener('DOMContentLoaded', function() {
            // تحميل التفضيلات المحفوظة
            const savedLang = localStorage.getItem('kr_lang') || 'ar';
            const savedTheme = localStorage.getItem('kr_theme') || 'dark';
            
            // تطبيق التفضيلات
            changeLanguage(savedLang);
            changeTheme(savedTheme);
            
            // إعداد حدث زر الإعدادات
            document.getElementById('settingsBtn').addEventListener('click', openSettings);
            document.getElementById('closeSettings').addEventListener('click', closeSettings);
            
            // إعداد أحداث التبديل
            document.getElementById('themeToggle').addEventListener('change', toggleTheme);
            document.getElementById('languageSwitch').addEventListener('click', function(e) {
                if (e.target.classList.contains('lang-option')) {
                    const lang = e.target.dataset.lang;
                    changeLanguage(lang);
                }
            });
            
            // إعداد أحداث التنقل
            setupNavigation();
            
            // إعداد أحداث البحث
            setupSearch();
            
            // إعداد التقويم
            setupCalendar();
            
            // تهيئة العرض
            updateUI();
        });

        // فتح صفحة الإعدادات
        function openSettings() {
            document.getElementById('settingsPage').style.display = 'block';
            document.querySelector('.main-page').style.display = 'none';
            
            // تحديث حالة التبديلات في الإعدادات
            document.getElementById('themeToggle').checked = currentTheme === 'light';
            
            // تحديث واجهة الإعدادات بناءً على اللغة
            updateSettingsUI();
        }

        // إغلاق صفحة الإعدادات
        function closeSettings() {
            document.getElementById('settingsPage').style.display = 'none';
            document.querySelector('.main-page').style.display = 'block';
        }

        // تبديل المظهر
        function toggleTheme() {
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            changeTheme(newTheme);
        }

        // تغيير المظهر
        function changeTheme(theme) {
            currentTheme = theme;
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('kr_theme', theme);
            
            // تحديث نص المظهر في الإعدادات
            updateSettingsUI();
        }

        // تغيير اللغة
        function changeLanguage(lang) {
            currentLang = lang;
            document.body.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
            localStorage.setItem('kr_lang', lang);
            
            // تحديث واجهة اللغة
            updateLanguageSwitch(lang);
            updateUI();
            
            // تحديث واجهة الإعدادات إذا كانت مفتوحة
            if (document.getElementById('settingsPage').style.display === 'block') {
                updateSettingsUI();
            }
            
            // تحديث التقويم إذا كان مفتوحاً
            if (document.getElementById('calendarOverlay').classList.contains('active')) {
                renderCalendar();
                updateCalendarUI();
            }
        }

        // تحديث واجهة اللغة
        function updateLanguageSwitch(lang) {
            document.querySelectorAll('.lang-option').forEach(option => {
                option.classList.remove('active');
                if (option.dataset.lang === lang) {
                    option.classList.add('active');
                }
            });
        }

        // تحديث واجهة الإعدادات
        function updateSettingsUI() {
            const t = translations[currentLang];
            
            // تحديث عناوين الإعدادات
            document.querySelector('.settings-header h2').textContent = t.settings;
            document.querySelectorAll('.settings-section h3')[0].textContent = t.appearance;
            document.querySelectorAll('.settings-section h3')[1].textContent = t.language;
            document.querySelectorAll('.settings-section h3')[2].textContent = t.notifications;
            document.querySelectorAll('.settings-section h3')[3].textContent = t.dataPrivacy;
            document.querySelectorAll('.settings-section h3')[4].textContent = t.aboutApp;
            
            // تحديث خيارات الإعدادات
            document.querySelector('#themeOption .option-text h4').textContent = currentTheme === 'dark' ? t.darkMode : "Light Mode";
            document.querySelector('#themeOption .option-text p').textContent = t.toggleDarkLight;
            
            document.querySelectorAll('.settings-option .option-text h4')[1].textContent = t.appLanguage;
            document.querySelectorAll('.settings-option .option-text p')[1].textContent = t.chooseLanguage;
            
            document.querySelectorAll('.settings-option .option-text h4')[2].textContent = t.instantNotifications;
            document.querySelectorAll('.settings-option .option-text p')[2].textContent = t.receiveAlerts;
            
            document.querySelectorAll('.settings-option .option-text h4')[3].textContent = t.advancedEncryption;
            document.querySelectorAll('.settings-option .option-text p')[3].textContent = t.dataProtection;
            
            document.querySelectorAll('.settings-option .option-text h4')[4].textContent = t.appVersion;
            document.querySelectorAll('.settings-option .option-text p')[4].textContent = t.versionInfo;
        }

        // تحديث الواجهة الرئيسية
        function updateUI() {
            const t = translations[currentLang];
            
            // تحديث رأس الصفحة
            document.querySelector('.welcome-text h4').textContent = t.welcome;
            document.querySelector('.welcome-text p').textContent = t.appName;
            
            // تحديث شريط البحث
            document.getElementById('searchInput').placeholder = t.searchPlaceholder;
            
            // تحديث العناوين
            document.querySelectorAll('.sec-header h3')[0].textContent = t.quickAccess;
            document.querySelectorAll('.sec-header span')[0].textContent = t.customize;
            document.querySelectorAll('.sec-header h3')[1].textContent = t.digitalCards;
            document.querySelectorAll('.sec-header span')[1].textContent = t.manageCards;
            document.querySelectorAll('.sec-header h3')[2].textContent = t.digitalPlatforms;
            document.querySelectorAll('.sec-header span')[2].textContent = t.exploreMore;
            document.querySelectorAll('.sec-header h3')[3].textContent = t.mainCategories;
            document.querySelectorAll('.sec-header span')[3].textContent = t.allCategories;
            
            // تحديث الوصول السريع
            document.querySelectorAll('.q-item span')[0].textContent = t.smartCalendar;
            document.querySelectorAll('.q-item span')[1].textContent = t.governmentEntities;
            document.querySelectorAll('.q-item span')[2].textContent = t.digitalPermits;
            document.querySelectorAll('.q-item span')[3].textContent = t.eWallet;
            document.querySelectorAll('.q-item span')[4].textContent = t.documents;
            document.querySelectorAll('.q-item span')[5].textContent = t.statistics;
            
            // تحديث بطاقات الهوية
            document.querySelectorAll('.digital-id .id-info p')[0].textContent = t.smartNationalId;
            document.querySelectorAll('.digital-id .id-info p')[1].textContent = t.digitalDrivingLicense;
            document.querySelectorAll('.id-status p')[0].textContent = t.activeVerified;
            document.querySelectorAll('.id-status p')[1].textContent = t.validUntil + " ١٤٤٦/٠٨/١٠";
            
            // تحديث المنصات الرقمية
            document.querySelectorAll('.platform-card h4')[0].textContent = t.absherPlatform;
            document.querySelectorAll('.platform-card p')[0].textContent = t.unifiedGovServices;
            document.querySelectorAll('.platform-card h4')[1].textContent = t.najizPlatform;
            document.querySelectorAll('.platform-card p')[1].textContent = t.judicialEServices;
            document.querySelectorAll('.platform-card h4')[2].textContent = t.sehatyPlatform;
            document.querySelectorAll('.platform-card p')[2].textContent = t.smartHealthServices;
            document.querySelectorAll('.platform-card h4')[3].textContent = t.mySchoolPlatform;
            document.querySelectorAll('.platform-card p')[3].textContent = t.interactiveElearning;
            
            // تحديث التصنيفات
            document.querySelectorAll('.cat-item span')[0].textContent = t.personalFamily;
            document.querySelectorAll('.cat-item span')[1].textContent = t.healthMedical;
            document.querySelectorAll('.cat-item span')[2].textContent = t.religiousAffairs;
            document.querySelectorAll('.cat-item span')[3].textContent = t.educationTraining;
            document.querySelectorAll('.cat-item span')[4].textContent = t.commerceFinance;
            document.querySelectorAll('.cat-item span')[5].textContent = t.vehiclesTransport;
            
            // تحديث شريط التنقل
            document.querySelectorAll('.nav-item span')[0].textContent = t.home;
            document.querySelectorAll('.nav-item span')[1].textContent = t.services;
            document.querySelectorAll('.nav-item span')[2].textContent = t.platforms;
            document.querySelectorAll('.nav-item span')[3].textContent = t.conversations;
            document.querySelectorAll('.nav-item span')[4].textContent = t.profile;
            
            // تحديث التلميحات
            document.querySelector('.scroll-hint span').textContent = t.scrollHint;
        }

        // إعداد التنقل
        function setupNavigation() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelector('.nav-item.active').classList.remove('active');
                    this.classList.add('active');
                    
                    // تأثير اهتزاز
                    if (window.navigator.vibrate) window.navigator.vibrate(20);
                    
                    // تأثير النقر
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        if(this.classList.contains('active')) {
                            this.style.transform = 'translateY(-8px)';
                        } else {
                            this.style.transform = 'scale(1)';
                        }
                    }, 150);
                });
            });
        }

        // إعداد البحث
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            const searchBar = document.querySelector('.search-bar');
            
            searchInput.addEventListener('focus', () => {
                searchBar.style.transform = 'translateY(-3px)';
                searchBar.style.boxShadow = 
                    '0 15px 35px rgba(0,0,0,0.5), 0 0 30px rgba(0, 247, 255, 0.3), inset 0 1px 0 rgba(255,255,255,0.1)';
            });
            
            searchInput.addEventListener('blur', () => {
                searchBar.style.transform = 'translateY(0)';
                searchBar.style.boxShadow = 
                    '0 10px 30px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1)';
            });
        }

        // إعداد التقويم
        function setupCalendar() {
            // إضافة أحداث التقويم الافتراضية
            loadSampleEvents();
            
            // إعداد زر التقويم
            document.getElementById('calendarBtn').addEventListener('click', openCalendar);
            document.getElementById('closeCalendar').addEventListener('click', closeCalendar);
            document.getElementById('todayBtn').addEventListener('click', goToToday);
            document.getElementById('addEventBtn').addEventListener('click', addEvent);
            document.getElementById('printCalendarBtn').addEventListener('click', printCalendar);
            
            // أزرار التنقل في التقويم
            document.getElementById('prevMonth').addEventListener('click', () => changeMonth(-1));
            document.getElementById('nextMonth').addEventListener('click', () => changeMonth(1));
            document.getElementById('prevYear').addEventListener('click', () => changeYear(-1));
            document.getElementById('nextYear').addEventListener('click', () => changeYear(1));
            
            // إغلاق التقويم بالضغط خارج النافذة
            document.getElementById('calendarOverlay').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeCalendar();
                }
            });
            
            // إغلاق التقويم بمفتاح ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && document.getElementById('calendarOverlay').classList.contains('active')) {
                    closeCalendar();
                }
            });
        }

        // فتح التقويم
        function openCalendar() {
            document.getElementById('calendarOverlay').classList.add('active');
            renderCalendar();
            updateCalendarUI();
        }

        // إغلاق التقويم
        function closeCalendar() {
            document.getElementById('calendarOverlay').classList.remove('active');
        }

        // عرض التقويم
        function renderCalendar() {
            const t = translations[currentLang];
            const calendarDays = document.getElementById('calendarDays');
            calendarDays.innerHTML = '';
            
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            // تحديث عنوان الشهر
            const monthYearText = currentLang === 'ar' 
                ? `${t.months[month]} ${year}`
                : `${t.months[month]} ${year}`;
            document.getElementById('currentMonthYear').textContent = monthYearText;
            
            // أول يوم من الشهر
            const firstDay = new Date(year, month, 1);
            // آخر يوم من الشهر
            const lastDay = new Date(year, month + 1, 0);
            // يوم الأسبوع لأول يوم (0-6)
            const firstDayIndex = firstDay.getDay();
            // عدد الأيام في الشهر
            const daysInMonth = lastDay.getDate();
            
            // الأيام من الشهر السابق
            const prevMonthLastDay = new Date(year, month, 0).getDate();
            
            // إضافة أيام الشهر السابق
            for (let i = firstDayIndex; i > 0; i--) {
                const day = prevMonthLastDay - i + 1;
                const dayElement = document.createElement('div');
                dayElement.classList.add('calendar-day', 'other-month');
                dayElement.textContent = day;
                calendarDays.appendChild(dayElement);
            }
            
            // إضافة أيام الشهر الحالي
            const today = new Date();
            const todayString = today.toDateString();
            const selectedString = selectedDate.toDateString();
            
            for (let i = 1; i <= daysInMonth; i++) {
                const dayElement = document.createElement('div');
                const date = new Date(year, month, i);
                const dateString = date.toDateString();
                
                dayElement.classList.add('calendar-day');
                dayElement.textContent = i;
                
                // تحديد إذا كان اليوم الحالي
                if (dateString === todayString) {
                    dayElement.classList.add('today');
                }
                
                // تحديد إذا كان اليوم المحدد
                if (dateString === selectedString) {
                    dayElement.classList.add('selected');
                }
                
                // تحديد إذا كان هناك أحداث في هذا اليوم
                const dayEvents = getEventsForDate(date);
                if (dayEvents.length > 0) {
                    dayElement.classList.add('event-day');
                }
                
                // إضافة حدث النقر
                dayElement.addEventListener('click', () => {
                    selectDate(date);
                });
                
                calendarDays.appendChild(dayElement);
            }
            
            // إضافة أيام الشهر التالي
            const nextDays = 42 - (firstDayIndex + daysInMonth); // 42 لملء 6 أسطر
            for (let i = 1; i <= nextDays; i++) {
                const dayElement = document.createElement('div');
                dayElement.classList.add('calendar-day', 'other-month');
                dayElement.textContent = i;
                calendarDays.appendChild(dayElement);
            }
        }

        // تحديث واجهة التقويم
        function updateCalendarUI() {
            const t = translations[currentLang];
            
            // تحديث العناوين
            document.getElementById('calendarTitle').textContent = t.calendarTitle;
            document.querySelectorAll('.calendar-box h3')[0].textContent = t.todayEvents;
            document.querySelectorAll('.calendar-box h3')[1].textContent = t.upcomingEvents;
            document.getElementById('addEventBtn').innerHTML = `<i class="fas fa-plus-circle"></i> ${t.addEvent}`;
            document.getElementById('todayBtn').innerHTML = `<i class="fas fa-calendar-day"></i> ${t.goToToday}`;
            document.getElementById('printCalendarBtn').innerHTML = `<i class="fas fa-print"></i> ${t.printCalendar}`;
            
            // تحديث أيام الأسبوع
            const weekdays = document.querySelectorAll('.calendar-weekdays div');
            t.weekdays.forEach((day, index) => {
                weekdays[index].textContent = day;
            });
            
            // تحديث التاريخ المحدد
            updateSelectedDateInfo();
            
            // تحديث قائمة الأحداث
            updateEventsList();
        }

        // تحديث معلومات التاريخ المحدد
        function updateSelectedDateInfo() {
            const t = translations[currentLang];
            
            // تحديث اليوم المحدد
            document.getElementById('selectedDay').textContent = selectedDate.getDate();
            
            // تحديث التاريخ الميلادي
            const gregorianOptions = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            
            const gregorianDate = selectedDate.toLocaleDateString(
                currentLang === 'ar' ? 'ar-SA' : 'en-US', 
                gregorianOptions
            );
            
            document.getElementById('gregorianDate').textContent = gregorianDate;
            
            // حساب التاريخ الهجري (تقريبي)
            const hijriDate = convertToHijri(selectedDate);
            document.getElementById('hijriDate').textContent = hijriDate;
        }

        // تحويل التاريخ الميلادي إلى هجري (تقريبي)
        function convertToHijri(date) {
            const t = translations[currentLang];
            const gregorianYear = date.getFullYear();
            const gregorianMonth = date.getMonth();
            const gregorianDay = date.getDate();
            
            // تحويل تقريبي (للأغراض التوضيحية)
            // في التطبيق الحقيقي، يجب استخدام مكتبة دقيقة للتحويل
            const hijriYear = Math.floor((gregorianYear - 622) * 1.03);
            const hijriMonth = gregorianMonth;
            const hijriDay = gregorianDay;
            
            return currentLang === 'ar' 
                ? `${hijriDay} ${t.hijriMonths[hijriMonth]} ${hijriYear} هـ`
                : `${hijriDay} ${t.hijriMonths[hijriMonth]} ${hijriYear} AH`;
        }

        // تحديث قائمة الأحداث
        function updateEventsList() {
            const eventsList = document.getElementById('eventsList');
            const upcomingEvents = document.getElementById('upcomingEvents');
            
            eventsList.innerHTML = '';
            upcomingEvents.innerHTML = '';
            
            // الأحداث اليوم
            const todayEvents = getEventsForDate(selectedDate);
            if (todayEvents.length === 0) {
                eventsList.innerHTML = `<div style="text-align: center; color: var(--text-dim); padding: 20px;">لا توجد أحداث اليوم</div>`;
            } else {
                todayEvents.forEach(event => {
                    const eventElement = createEventElement(event);
                    eventsList.appendChild(eventElement);
                });
            }
            
            // الأحداث القادمة (الـ 7 أيام القادمة)
            const nextWeek = new Date(selectedDate);
            nextWeek.setDate(nextWeek.getDate() + 7);
            
            const upcoming = events.filter(event => {
                return event.date > selectedDate && event.date <= nextWeek;
            }).sort((a, b) => a.date - b.date).slice(0, 5);
            
            if (upcoming.length === 0) {
                upcomingEvents.innerHTML = `<div style="text-align: center; color: var(--text-dim); padding: 20px;">لا توجد أحداث قادمة</div>`;
            } else {
                upcoming.forEach(event => {
                    const eventElement = createEventElement(event);
                    upcomingEvents.appendChild(eventElement);
                });
            }
        }

        // إنشاء عنصر حدث
        function createEventElement(event) {
            const t = translations[currentLang];
            const eventElement = document.createElement('div');
            eventElement.classList.add('event-item');
            
            const colors = {
                meeting: '#00f7ff',
                appointment: '#9d4edd',
                holiday: '#ffaa00',
                reminder: '#00ff88',
                birthday: '#ff4757'
            };
            
            const icons = {
                meeting: 'fa-users',
                appointment: 'fa-calendar-check',
                holiday: 'fa-umbrella-beach',
                reminder: 'fa-bell',
                birthday: 'fa-birthday-cake'
            };
            
            const eventTime = event.date.toLocaleTimeString(currentLang === 'ar' ? 'ar-SA' : 'en-US', {
                hour: '2-digit',
                minute: '2-digit'
            });
            
            eventElement.innerHTML = `
                <div class="event-icon" style="background: rgba(${hexToRgb(colors[event.type])}, 0.2); color: ${colors[event.type]}">
                    <i class="fas ${icons[event.type]}"></i>
                </div>
                <div class="event-details">
                    <h4>${event.title}</h4>
                    <p>${t.eventTypes[event.type]}</p>
                </div>
                <div class="event-time">${eventTime}</div>
            `;
            
            return eventElement;
        }

        // تحويل اللون من hex إلى rgb
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? 
                `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` 
                : '0, 247, 255';
        }

        // الحصول على الأحداث لتاريخ معين
        function getEventsForDate(date) {
            const dateString = date.toDateString();
            return events.filter(event => event.date.toDateString() === dateString);
        }

        // اختيار تاريخ
        function selectDate(date) {
            selectedDate = date;
            renderCalendar();
            updateSelectedDateInfo();
            updateEventsList();
        }

        // تغيير الشهر
        function changeMonth(delta) {
            currentDate.setMonth(currentDate.getMonth() + delta);
            renderCalendar();
        }

        // تغيير السنة
        function changeYear(delta) {
            currentDate.setFullYear(currentDate.getFullYear() + delta);
            renderCalendar();
        }

        // الذهاب إلى اليوم الحالي
        function goToToday() {
            currentDate = new Date();
            selectedDate = new Date();
            renderCalendar();
            updateSelectedDateInfo();
            updateEventsList();
        }

        // إضافة حدث جديد
        function addEvent() {
            const t = translations[currentLang];
            const eventTypes = Object.keys(t.eventTypes);
            const randomType = eventTypes[Math.floor(Math.random() * eventTypes.length)];
            const randomHour = Math.floor(Math.random() * 24);
            
            const newEvent = {
                id: Date.now(),
                title: currentLang === 'ar' ? 'مناسبة جديدة' : 'New Event',
                type: randomType,
                date: new Date(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate(), randomHour, 0),
                description: currentLang === 'ar' ? 'مناسبة مضافة تلقائياً' : 'Automatically added event'
            };
            
            events.push(newEvent);
            updateEventsList();
            renderCalendar();
            
            // تأثير إشعار
            showNotification(currentLang === 'ar' 
                ? 'تم إضافة المناسبة بنجاح'
                : 'Event added successfully');
        }

        // طباعة التقويم
        function printCalendar() {
            window.print();
        }

        // تحميل أحداث عينة
        function loadSampleEvents() {
            const t = translations[currentLang];
            
            events = [
                {
                    id: 1,
                    title: currentLang === 'ar' ? 'اجتماع فريق العمل' : 'Team Meeting',
                    type: 'meeting',
                    date: new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate(), 10, 30),
                    description: currentLang === 'ar' ? 'مناقشة المشاريع الجديدة' : 'Discuss new projects'
                },
                {
                    id: 2,
                    title: currentLang === 'ar' ? 'موعد طبيب' : 'Doctor Appointment',
                    type: 'appointment',
                    date: new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 2, 14, 0),
                    description: currentLang === 'ar' ? 'فحص دوري' : 'Routine checkup'
                },
                {
                    id: 3,
                    title: currentLang === 'ar' ? 'عطلة رسمية' : 'Public Holiday',
                    type: 'holiday',
                    date: new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 5, 0, 0),
                    description: currentLang === 'ar' ? 'عيد الفطر' : 'Eid al-Fitr'
                },
                {
                    id: 4,
                    title: currentLang === 'ar' ? 'تذكير بدفع الفواتير' : 'Bill Payment Reminder',
                    type: 'reminder',
                    date: new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 1, 18, 0),
                    description: currentLang === 'ar' ? 'آخر موعد للدفع' : 'Payment due date'
                },
                {
                    id: 5,
                    title: currentLang === 'ar' ? 'مناسبة عيد ميلاد' : 'Birthday Celebration',
                    type: 'birthday',
                    date: new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 3, 20, 0),
                    description: currentLang === 'ar' ? 'حفلة عيد ميلاد أحمد' : 'Ahmed\'s birthday party'
                }
            ];
        }

        // عرض إشعار
        function showNotification(message) {
            // يمكن تطوير هذه الوظيفة لعرض إشعارات أكثر تطوراً
            console.log(message);
        }

        // تأثيرات تفاعلية إضافية
        document.querySelectorAll('.q-item').forEach(item => {
            item.addEventListener('click', function() {
                if (this.id !== 'calendarBtn') {
                    this.style.transform = 'translateY(-8px) scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = 'translateY(-8px)';
                    }, 150);
                    
                    // تأثير ضوئي
                    const ripple = document.createElement('div');
                    ripple.style.position = 'absolute';
                    ripple.style.borderRadius = '50%';
                    ripple.style.backgroundColor = 'rgba(0, 247, 255, 0.3)';
                    ripple.style.width = '10px';
                    ripple.style.height = '10px';
                    ripple.style.left = '50%';
                    ripple.style.top = '50%';
                    ripple.style.transform = 'translate(-50%, -50%)';
                    ripple.style.animation = 'ripple 0.6s linear';
                    
                    this.appendChild(ripple);
                    setTimeout(() => ripple.remove(), 600);
                }
            });
        });

        // تأثيرات الظهور عند التمرير
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // مراقبة العناصر لإضافة تأثيرات الظهور
        document.querySelectorAll('.cat-item, .platform-card').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
            observer.observe(el);
        });

        // رسالة ترحيب عند التحميل
        window.addEventListener('load', () => {
            setTimeout(() => {
                console.log('مرحباً بك في بوابة KR الرقمية المتطورة!');
            }, 1000);
        });
    </script>
</body>
</html>
