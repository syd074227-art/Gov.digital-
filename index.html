<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¨ÙˆØ§Ø¨Ø© KR Ø§Ù„Ø±Ù‚Ù…ÙŠØ© | Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø°ÙƒÙŠØ©</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@300;500;700;900&display=swap');

        :root {
            --bg-dark: #0a0a0f;
            --card-dark: #131320;
            --accent: #00f7ff;
            --accent-gradient: linear-gradient(135deg, #00f7ff, #0080ff, #9d4edd);
            --text-main: #ffffff;
            --text-dim: #b0b0d0;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glow: 0 0 20px rgba(0, 247, 255, 0.7);
            --dark-purple: #1a1a2e;
        }

        :root[data-theme="light"] {
            --bg-dark: #f5f7ff;
            --card-dark: #ffffff;
            --accent: #0066ff;
            --accent-gradient: linear-gradient(135deg, #0066ff, #00aaff, #7a5fff);
            --text-main: #1a1a2e;
            --text-dim: #4a4a6e;
            --glass: rgba(26, 26, 46, 0.05);
            --glass-border: rgba(26, 26, 46, 0.1);
            --glow: 0 0 15px rgba(0, 102, 255, 0.3);
            --dark-purple: #e6e9ff;
        }

        * { 
            margin: 0; padding: 0; box-sizing: border-box; 
            font-family: 'Noto Kufi Arabic', sans-serif; 
            -webkit-tap-highlight-color: transparent; 
        }

        body { 
            background-color: var(--bg-dark); 
            color: var(--text-main); 
            overflow-x: hidden; 
            padding-bottom: 100px;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 247, 255, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(157, 78, 221, 0.05) 0%, transparent 20%);
            min-height: 100vh;
            transition: all 0.5s ease;
        }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ… */
        .calendar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        .calendar-container {
            background: var(--card-dark);
            border-radius: 30px;
            width: 100%;
            max-width: 900px;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 247, 255, 0.2);
            animation: slideUp 0.4s ease;
        }

        .calendar-header {
            background: linear-gradient(135deg, #131320, #1a1a2e);
            padding: 25px 30px;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .calendar-header h2 {
            font-size: 24px;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .close-calendar {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--text-main);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-calendar:hover {
            background: var(--accent);
            color: var(--bg-dark);
            transform: rotate(90deg);
        }

        .calendar-body {
            padding: 30px;
        }

        /* Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØªÙ‚ÙˆÙŠÙ… */
        .current-date-display {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 30px;
        }

        .date-card {
            flex: 1;
            background: linear-gradient(135deg, rgba(0, 247, 255, 0.1), rgba(157, 78, 221, 0.1));
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            border: 1px solid var(--glass-border);
            position: relative;
            overflow: hidden;
        }

        .date-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05));
            z-index: 1;
        }

        .date-card h3 {
            font-size: 16px;
            margin-bottom: 15px;
            color: var(--text-dim);
            position: relative;
            z-index: 2;
        }

        .date-number {
            font-size: 48px;
            font-weight: 900;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            z-index: 2;
            line-height: 1;
            margin: 10px 0;
        }

        .date-text {
            font-size: 20px;
            color: var(--text-main);
            position: relative;
            z-index: 2;
            margin: 5px 0;
        }

        .date-details {
            font-size: 14px;
            color: var(--text-dim);
            position: relative;
            z-index: 2;
            margin-top: 10px;
        }

        /* Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬ */
        .dual-calendar {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-top: 30px;
        }

        .calendar-wrapper {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid var(--glass-border);
        }

        .calendar-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--glass-border);
        }

        .calendar-title i {
            font-size: 22px;
            color: var(--accent);
        }

        .calendar-title h4 {
            font-size: 18px;
            font-weight: 700;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-bottom: 15px;
        }

        .day-header {
            text-align: center;
            padding: 12px 5px;
            font-size: 13px;
            font-weight: 600;
            color: var(--accent);
            background: rgba(0, 247, 255, 0.1);
            border-radius: 10px;
        }

        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            background: rgba(255, 255, 255, 0.05);
        }

        .calendar-day:hover {
            background: rgba(0, 247, 255, 0.2);
            transform: scale(1.05);
        }

        .calendar-day.today {
            background: var(--accent-gradient);
            color: white;
            font-weight: 700;
            box-shadow: 0 5px 15px rgba(0, 247, 255, 0.4);
        }

        .calendar-day.other-month {
            color: var(--text-dim);
            opacity: 0.5;
        }

        .calendar-day.event::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: #ff4757;
        }

        /* ØªØ­ÙƒÙ… Ø§Ù„ØªÙ‚ÙˆÙŠÙ… */
        .calendar-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            border: 1px solid var(--glass-border);
        }

        .month-year {
            font-size: 20px;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--text-main);
            width: 40px;
            height: 40px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-btn:hover {
            background: var(--accent);
            color: var(--bg-dark);
            transform: translateY(-2px);
        }

        /* Ø§Ù„Ø£Ø­Ø¯Ø§Ø« */
        .calendar-events {
            margin-top: 25px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid var(--glass-border);
        }

        .events-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .events-title i {
            font-size: 20px;
            color: #ff4757;
        }

        .events-title h4 {
            font-size: 18px;
            font-weight: 700;
        }

        .event-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .event-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .event-item:hover {
            background: rgba(0, 247, 255, 0.1);
            border-color: rgba(0, 247, 255, 0.3);
            transform: translateX(5px);
        }

        .event-icon {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: linear-gradient(135deg, #00f7ff, #0080ff);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .event-details h5 {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .event-details p {
            font-size: 13px;
            color: var(--text-dim);
        }

        .event-time {
            margin-left: auto;
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            font-size: 13px;
            font-weight: 500;
        }

        /* Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ø·Ù„ */
        .holiday {
            background: linear-gradient(135deg, rgba(255, 71, 87, 0.2), rgba(255, 71, 87, 0.1)) !important;
            color: #ff4757 !important;
            font-weight: 700;
        }

        .holiday::after {
            content: 'ğŸ‰';
            position: absolute;
            top: -5px;
            right: -5px;
            font-size: 12px;
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø¥Ø¶Ø§ÙÙŠØ© */
        .calendar-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid var(--glass-border);
        }

        .action-btn {
            flex: 1;
            padding: 18px;
            border-radius: 15px;
            border: none;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .action-btn.primary {
            background: var(--accent-gradient);
            color: white;
        }

        .action-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-main);
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 247, 255, 0.3);
        }

        /* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { 
                opacity: 0; 
                transform: translateY(50px) scale(0.9);
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1);
            }
        }

        /* Ø¨Ù‚ÙŠØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©... */
        /* (ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù‡Ù†Ø§) */

    </style>
</head>
<body dir="rtl">

    <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="main-page">
        <!-- ... Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø§Ù„Ø³Ø§Ø¨Ù‚ ... -->
        
        <!-- ØªÙ… Ø§Ø®ØªØµØ§Ø± Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… -->
        
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ… -->
    <div class="calendar-overlay" id="calendarOverlay">
        <div class="calendar-container">
            <div class="calendar-header">
                <h2>Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ</h2>
                <button class="close-calendar" id="closeCalendar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="calendar-body">
                <!-- Ø¹Ø±Ø¶ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ -->
                <div class="current-date-display">
                    <div class="date-card" id="hijriDate">
                        <h3>Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ</h3>
                        <div class="date-number" id="hijriDay">Ù Ù </div>
                        <div class="date-text" id="hijriMonth">Ù…Ø­Ø±Ù…</div>
                        <div class="date-details" id="hijriYear">Ù¡Ù¤Ù¤Ù¦ Ù‡Ù€</div>
                    </div>
                    
                    <div class="date-card" id="gregorianDate">
                        <h3>Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ</h3>
                        <div class="date-number" id="gregorianDay">Ù Ù </div>
                        <div class="date-text" id="gregorianMonth">ÙŠÙ†Ø§ÙŠØ±</div>
                        <div class="date-details" id="gregorianYear">Ù¢Ù Ù¢Ù¤ Ù…</div>
                    </div>
                </div>

                <!-- ØªØ­ÙƒÙ… Ø§Ù„ØªÙ‚ÙˆÙŠÙ… -->
                <div class="calendar-controls">
                    <div class="month-year" id="currentMonthYear">Ù…Ø­Ø±Ù… Ù¡Ù¤Ù¤Ù¦</div>
                    <div class="nav-buttons">
                        <button class="nav-btn" id="prevMonth">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <button class="nav-btn" id="todayBtn">
                            <i class="fas fa-calendar-day"></i>
                        </button>
                        <button class="nav-btn" id="nextMonth">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                    </div>
                </div>

                <!-- Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬ -->
                <div class="dual-calendar">
                    <!-- Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ -->
                    <div class="calendar-wrapper">
                        <div class="calendar-title">
                            <i class="fas fa-moon"></i>
                            <h4>Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ</h4>
                        </div>
                        <div class="calendar-grid">
                            <div class="day-header">Ø£</div>
                            <div class="day-header">Ø¨</div>
                            <div class="day-header">Ø¬</div>
                            <div class="day-header">Ø¯</div>
                            <div class="day-header">Ù‡</div>
                            <div class="day-header">Ùˆ</div>
                            <div class="day-header">Ø­</div>
                        </div>
                        <div class="calendar-days" id="hijriCalendar">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø£ÙŠØ§Ù… Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                        </div>
                    </div>

                    <!-- Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ -->
                    <div class="calendar-wrapper">
                        <div class="calendar-title">
                            <i class="fas fa-sun"></i>
                            <h4>Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ</h4>
                        </div>
                        <div class="calendar-grid">
                            <div class="day-header">Ø­</div>
                            <div class="day-header">Ù†</div>
                            <div class="day-header">Ø«</div>
                            <div class="day-header">Ø±</div>
                            <div class="day-header">Ø®</div>
                            <div class="day-header">Ø¬</div>
                            <div class="day-header">Ø³</div>
                        </div>
                        <div class="calendar-days" id="gregorianCalendar">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø£ÙŠØ§Ù… Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                        </div>
                    </div>
                </div>

                <!-- Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© -->
                <div class="calendar-events">
                    <div class="events-title">
                        <i class="fas fa-bell"></i>
                        <h4>Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</h4>
                    </div>
                    <div class="event-list" id="upcomingEvents">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                    </div>
                </div>

                <!-- Ø£Ø²Ø±Ø§Ø± Ø¥Ø¶Ø§ÙÙŠØ© -->
                <div class="calendar-actions">
                    <button class="action-btn secondary" id="addEvent">
                        <i class="fas fa-plus"></i>
                        Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø«
                    </button>
                    <button class="action-btn primary" id="syncCalendar">
                        <i class="fas fa-sync-alt"></i>
                        Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ
        const hijriMonths = [
            "Ù…Ø­Ø±Ù…", "ØµÙØ±", "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„", "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ", 
            "Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰", "Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©", "Ø±Ø¬Ø¨", "Ø´Ø¹Ø¨Ø§Ù†", 
            "Ø±Ù…Ø¶Ø§Ù†", "Ø´ÙˆØ§Ù„", "Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©", "Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©"
        ];

        const hijriDays = ["Ø£Ø­", "Ø¥Ø«", "Ø«", "Ø£Ø±", "Ø®", "Ø¬", "Ø³"];

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ
        const gregorianMonths = [
            "ÙŠÙ†Ø§ÙŠØ±", "ÙØ¨Ø±Ø§ÙŠØ±", "Ù…Ø§Ø±Ø³", "Ø£Ø¨Ø±ÙŠÙ„", "Ù…Ø§ÙŠÙˆ", "ÙŠÙˆÙ†ÙŠÙˆ",
            "ÙŠÙˆÙ„ÙŠÙˆ", "Ø£ØºØ³Ø·Ø³", "Ø³Ø¨ØªÙ…Ø¨Ø±", "Ø£ÙƒØªÙˆØ¨Ø±", "Ù†ÙˆÙÙ…Ø¨Ø±", "Ø¯ÙŠØ³Ù…Ø¨Ø±"
        ];

        // Ø£Ø­Ø¯Ø§Ø« Ø¹ÙŠÙ†Ø© (ÙŠÙ…ÙƒÙ† ØªÙˆØ³ÙŠØ¹Ù‡Ø§)
        const sampleEvents = [
            {
                title: "Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„Ø¹Ù…Ù„",
                description: "Ø§Ø¬ØªÙ…Ø§Ø¹ ÙØ±ÙŠÙ‚ ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù†ØµØ©",
                time: "Ù¡Ù :Ù Ù  Øµ",
                date: new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 2),
                icon: "fas fa-briefcase"
            },
            {
                title: "Ù…ÙˆØ¹Ø¯ Ø·Ø¨ÙŠ",
                description: "ÙØ­Øµ Ø¯ÙˆØ±ÙŠ ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰",
                time: "Ù Ù¢:Ù Ù  Ù…",
                date: new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 5),
                icon: "fas fa-stethoscope"
            },
            {
                title: "Ù…Ù†Ø§Ø³Ø¨Ø© Ø¹Ø§Ø¦Ù„ÙŠØ©",
                description: "Ø­ÙÙ„ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯",
                time: "Ù Ù¦:Ù Ù  Ù…",
                date: new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 7),
                icon: "fas fa-birthday-cake"
            }
        ];

        // Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        let currentDate = new Date();
        let currentHijriDate = null;
        let currentView = 'month';

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', function() {
            // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            const calendarIcon = document.querySelector('.q-item:nth-child(1)');
            if (calendarIcon) {
                calendarIcon.addEventListener('click', openCalendar);
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ÙÙŠ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„
            const calendarBtn = document.createElement('div');
            calendarBtn.className = 'nav-item';
            calendarBtn.innerHTML = '<i class="fas fa-calendar-alt"></i><span>Ø§Ù„ØªÙ‚ÙˆÙŠÙ…</span>';
            calendarBtn.addEventListener('click', openCalendar);
            
            // Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø¥Ù„Ù‰ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„
            const bottomNav = document.querySelector('.bottom-nav');
            if (bottomNav) {
                bottomNav.appendChild(calendarBtn);
            }

            // Ø£Ø­Ø¯Ø§Ø« Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
            document.getElementById('closeCalendar').addEventListener('click', closeCalendar);
            document.getElementById('prevMonth').addEventListener('click', prevMonth);
            document.getElementById('nextMonth').addEventListener('click', nextMonth);
            document.getElementById('todayBtn').addEventListener('click', goToToday);
            document.getElementById('addEvent').addEventListener('click', addNewEvent);
            document.getElementById('syncCalendar').addEventListener('click', syncCalendar);

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø¹Ù†Ø¯ ÙØªØ­Ù‡
            updateCalendar();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
            updateEvents();
        });

        // ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
        function openCalendar() {
            document.getElementById('calendarOverlay').style.display = 'flex';
            updateCalendar();
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
        function closeCalendar() {
            document.getElementById('calendarOverlay').style.display = 'none';
        }

        // Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚
        function prevMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            updateCalendar();
        }

        // Ø§Ù„Ø´Ù‡Ø± Ø§Ù„ØªØ§Ù„ÙŠ
        function nextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            updateCalendar();
        }

        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙˆÙ…
        function goToToday() {
            currentDate = new Date();
            updateCalendar();
        }

        // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø¬Ø¯ÙŠØ¯
        function addNewEvent() {
            alert('Ù…ÙŠØ²Ø© Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø¬Ø¯ÙŠØ¯ Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±');
        }

        // Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
        function syncCalendar() {
            const syncBtn = document.getElementById('syncCalendar');
            const originalText = syncBtn.innerHTML;
            
            syncBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©...';
            syncBtn.disabled = true;
            
            setTimeout(() => {
                syncBtn.innerHTML = '<i class="fas fa-check"></i> ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©';
                syncBtn.style.background = 'linear-gradient(135deg, #00ff88, #00cc66)';
                
                setTimeout(() => {
                    syncBtn.innerHTML = originalText;
                    syncBtn.disabled = false;
                    syncBtn.style.background = '';
                }, 2000);
            }, 1500);
        }

        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ Ø¥Ù„Ù‰ Ù‡Ø¬Ø±ÙŠ (ØªÙ‚Ø±ÙŠØ¨ÙŠ)
        function toHijri(date) {
            // Ù‡Ø°Ø§ ØªØ­ÙˆÙŠÙ„ ØªÙ‚Ø±ÙŠØ¨ÙŠ Ù„Ø£ØºØ±Ø§Ø¶ Ø§Ù„Ø¹Ø±Ø¶
            // ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø§Ø³ØªØ®Ø¯Ù… Ù…ÙƒØªØ¨Ø© Ù…ØªØ®ØµØµØ© Ù…Ø«Ù„ hijri-converter
            
            const gregorianYear = date.getFullYear();
            const gregorianMonth = date.getMonth();
            const gregorianDay = date.getDate();
            
            // ØªØ­ÙˆÙŠÙ„ ØªÙ‚Ø±ÙŠØ¨ÙŠ (ÙƒÙ„ 33 Ø³Ù†Ø© Ù…ÙŠÙ„Ø§Ø¯ÙŠØ© = 34 Ø³Ù†Ø© Ù‡Ø¬Ø±ÙŠØ©)
            const hijriYear = Math.floor((gregorianYear - 622) * 33 / 32);
            let hijriMonth = (gregorianMonth + 9) % 12;
            let hijriDay = gregorianDay;
            
            // Ø¶Ø¨Ø· Ø§Ù„Ø£ÙŠØ§Ù… Ø­Ø³Ø¨ Ø§Ù„Ø£Ø´Ù‡Ø± Ø§Ù„Ù‡Ø¬Ø±ÙŠØ©
            const hijriMonthDays = [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29];
            if (hijriDay > hijriMonthDays[hijriMonth]) {
                hijriDay = 1;
                hijriMonth = (hijriMonth + 1) % 12;
                if (hijriMonth === 0) hijriYear++;
            }
            
            return {
                year: hijriYear,
                month: hijriMonth,
                day: hijriDay,
                monthName: hijriMonths[hijriMonth]
            };
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
        function updateCalendar() {
            updateCurrentDateDisplay();
            updateHijriCalendar();
            updateGregorianCalendar();
            updateMonthYear();
            updateEvents();
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ
        function updateCurrentDateDisplay() {
            const now = new Date();
            const hijri = toHijri(now);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
            document.getElementById('hijriDay').textContent = arabicNumber(hijri.day);
            document.getElementById('hijriMonth').textContent = hijri.monthName;
            document.getElementById('hijriYear').textContent = arabicNumber(hijri.year) + ' Ù‡Ù€';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ
            document.getElementById('gregorianDay').textContent = arabicNumber(now.getDate());
            document.getElementById('gregorianMonth').textContent = gregorianMonths[now.getMonth()];
            document.getElementById('gregorianYear').textContent = arabicNumber(now.getFullYear()) + ' Ù…';
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ
        function updateHijriCalendar() {
            const container = document.getElementById('hijriCalendar');
            container.innerHTML = '';
            
            // Ø§Ø­Ø³Ø¨ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„ Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù‡Ø¬Ø±ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ
            const hijriDate = toHijri(currentDate);
            const firstDayOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            const firstDayHijri = toHijri(firstDayOfMonth);
            
            // Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù‡Ø¬Ø±ÙŠ (ØªÙ‚Ø±ÙŠØ¨ÙŠ)
            const hijriMonthDays = [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29];
            const daysInMonth = hijriMonthDays[firstDayHijri.month];
            
            // Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„ Ù…Ù† Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ (0 = Ø§Ù„Ø£Ø­Ø¯ØŒ 6 = Ø§Ù„Ø³Ø¨Øª)
            let firstDayIndex = (firstDayHijri.day - 1) % 7;
            if (firstDayIndex < 0) firstDayIndex += 7;
            
            // Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚
            for (let i = 0; i < firstDayIndex; i++) {
                const day = document.createElement('div');
                day.className = 'calendar-day other-month';
                day.textContent = arabicNumber(daysInMonth - firstDayIndex + i + 1);
                container.appendChild(day);
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ
            const todayHijri = toHijri(new Date());
            const isCurrentMonth = hijriDate.year === todayHijri.year && hijriDate.month === todayHijri.month;
            
            for (let i = 1; i <= daysInMonth; i++) {
                const day = document.createElement('div');
                day.className = 'calendar-day';
                day.textContent = arabicNumber(i);
                
                // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ
                if (isCurrentMonth && i === todayHijri.day) {
                    day.classList.add('today');
                }
                
                // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹Ø·Ù„Ø© (Ù…Ø«Ø§Ù„: Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± ÙÙŠ 1 Ø´ÙˆØ§Ù„)
                if (hijriDate.month === 9 && i === 1) { // 1 Ø´ÙˆØ§Ù„
                    day.classList.add('holiday');
                }
                
                container.appendChild(day);
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø± Ø§Ù„ØªØ§Ù„ÙŠ Ù„Ù…Ù„Ø¡ Ø§Ù„ØµÙÙˆÙ
            const totalCells = 42; // 6 ØµÙÙˆÙ Ã— 7 Ø£ÙŠØ§Ù…
            const remainingCells = totalCells - (firstDayIndex + daysInMonth);
            
            for (let i = 1; i <= remainingCells; i++) {
                const day = document.createElement('div');
                day.className = 'calendar-day other-month';
                day.textContent = arabicNumber(i);
                container.appendChild(day);
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ
        function updateGregorianCalendar() {
            const container = document.getElementById('gregorianCalendar');
            container.innerHTML = '';
            
            // Ø§Ø­Ø³Ø¨ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„ Ù…Ù† Ø§Ù„Ø´Ù‡Ø±
            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
            
            const daysInMonth = lastDay.getDate();
            const firstDayIndex = firstDay.getDay(); // 0 = Ø§Ù„Ø£Ø­Ø¯, 1 = Ø§Ù„Ø§Ø«Ù†ÙŠÙ†, ...
            
            // ØªØ¹Ø¯ÙŠÙ„ Ù„Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„ (Ø­ÙŠØ« Ù†Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ø£Ø­Ø¯ ÙÙŠ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ)
            let adjustedFirstDayIndex = firstDayIndex;
            
            // Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚
            const prevMonthLastDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 0).getDate();
            for (let i = 0; i < adjustedFirstDayIndex; i++) {
                const day = document.createElement('div');
                day.className = 'calendar-day other-month';
                day.textContent = arabicNumber(prevMonthLastDay - adjustedFirstDayIndex + i + 1);
                container.appendChild(day);
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ
            const today = new Date();
            const isCurrentMonth = currentDate.getFullYear() === today.getFullYear() && 
                                 currentDate.getMonth() === today.getMonth();
            
            for (let i = 1; i <= daysInMonth; i++) {
                const day = document.createElement('div');
                day.className = 'calendar-day';
                day.textContent = arabicNumber(i);
                
                // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ
                if (isCurrentMonth && i === today.getDate()) {
                    day.classList.add('today');
                }
                
                // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹Ø·Ù„Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ (Ø§Ù„Ø¬Ù…Ø¹Ø©)
                const dayDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), i);
                if (dayDate.getDay() === 5) { // 5 = Ø§Ù„Ø¬Ù…Ø¹Ø©
                    day.classList.add('holiday');
                }
                
                // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø­Ø¯Ø« ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…
                if (hasEventOnDate(dayDate)) {
                    day.classList.add('event');
                }
                
                container.appendChild(day);
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø± Ø§Ù„ØªØ§Ù„ÙŠ Ù„Ù…Ù„Ø¡ Ø§Ù„ØµÙÙˆÙ
            const totalCells = 42; // 6 ØµÙÙˆÙ Ã— 7 Ø£ÙŠØ§Ù…
            const remainingCells = totalCells - (adjustedFirstDayIndex + daysInMonth);
            
            for (let i = 1; i <= remainingCells; i++) {
                const day = document.createElement('div');
                day.className = 'calendar-day other-month';
                day.textContent = arabicNumber(i);
                container.appendChild(day);
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø´Ù‡Ø± ÙˆØ§Ù„Ø³Ù†Ø©
        function updateMonthYear() {
            const hijriDate = toHijri(currentDate);
            const element = document.getElementById('currentMonthYear');
            
            element.textContent = `${hijriDate.monthName} ${arabicNumber(hijriDate.year)}`;
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function updateEvents() {
            const container = document.getElementById('upcomingEvents');
            container.innerHTML = '';
            
            // ØªØµÙÙŠØ© Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© (Ø§Ù„ØªÙŠ Ù„Ù… ØªØ­Ø¯Ø« Ø¨Ø¹Ø¯)
            const upcomingEvents = sampleEvents.filter(event => event.date > new Date());
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
            upcomingEvents.forEach(event => {
                const eventElement = document.createElement('div');
                eventElement.className = 'event-item';
                
                eventElement.innerHTML = `
                    <div class="event-icon">
                        <i class="${event.icon}"></i>
                    </div>
                    <div class="event-details">
                        <h5>${event.title}</h5>
                        <p>${event.description}</p>
                    </div>
                    <div class="event-time">${event.time}</div>
                `;
                
                container.appendChild(eventElement);
            });
            
            // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø£Ø­Ø¯Ø§Ø«
            if (upcomingEvents.length === 0) {
                const noEvents = document.createElement('div');
                noEvents.className = 'event-item';
                noEvents.innerHTML = `
                    <div class="event-icon">
                        <i class="far fa-calendar"></i>
                    </div>
                    <div class="event-details">
                        <h5>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø­Ø¯Ø§Ø« Ù‚Ø§Ø¯Ù…Ø©</h5>
                        <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø®Ù„Ø§Ù„ Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø«</p>
                    </div>
                `;
                container.appendChild(noEvents);
            }
        }

        // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø­Ø¯Ø« ÙÙŠ ØªØ§Ø±ÙŠØ® Ù…Ø­Ø¯Ø¯
        function hasEventOnDate(date) {
            return sampleEvents.some(event => 
                event.date.getDate() === date.getDate() &&
                event.date.getMonth() === date.getMonth() &&
                event.date.getFullYear() === date.getFullYear()
            );
        }

        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¥Ù„Ù‰ Ø¹Ø±Ø¨ÙŠØ©
        function arabicNumber(num) {
            const arabicNumbers = ['Ù ', 'Ù¡', 'Ù¢', 'Ù£', 'Ù¤', 'Ù¥', 'Ù¦', 'Ù§', 'Ù¨', 'Ù©'];
            return num.toString().replace(/\d/g, digit => arabicNumbers[digit]);
        }

        // Ù…Ù†Ø¹ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡
        document.getElementById('calendarOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCalendar();
            }
        });

        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ© Ù„Ù„Ø£ÙŠØ§Ù…
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('calendar-day') && !e.target.classList.contains('other-month')) {
                const allDays = document.querySelectorAll('.calendar-day');
                allDays.forEach(day => day.classList.remove('selected'));
                e.target.classList.add('selected');
                
                // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ÙˆØ¸Ø§Ø¦Ù Ø¥Ø¶Ø§ÙÙŠØ© Ù‡Ù†Ø§ Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± ÙŠÙˆÙ…
            }
        });
    </script>
</body>
</html>
